<app-nav></app-nav>
<mat-progress-bar *ngIf="loading" color="accent" mode="indeterminate"></mat-progress-bar>

<div class="row">
  <div class="col l3 s12" right>
    <mat-list>
      <h2 mat-subheader>render new map</h2>
      <mat-list-item>
        <mat-form-field class="sites-field">
          <input id="input-sites" matInput placeholder="sites" type="number" [(ngModel)]="sites">
        </mat-form-field>
        <button class="render-btn" mat-raised-button color="accent" matTooltip="render"
          (click)="newGraphics()">Render</button>
      </mat-list-item>

      <div class="mat-table">
        <div class="mat-header-row">
          <div class="mat-header-cell">Layer</div>
          <div class="mat-header-cell">View</div>
          <div class="mat-header-cell">Edit</div>
        </div>
        <div class="mat-row">
          <div class="mat-cell">elevation</div>
          <div class="mat-cell">
            <mat-checkbox id="elevation-view-checkbox" [(ngModel)]="elevation_view_checked"
              (change)="checkboxOnChange($event, 'view')"></mat-checkbox>
          </div>
          <div class="mat-cell">
            <mat-checkbox id="elevation-edit-checkbox" [(ngModel)]="elevation_edit_checked"
              (change)="checkboxOnChange($event, 'edit')"></mat-checkbox>
          </div>
        </div>

        <div class="mat-row">
          <div class="mat-cell">affluence</div>
          <div class="mat-cell">
            <mat-checkbox id="affluence-view-checkbox" [(ngModel)]="affluence_view_checked"
              (change)="checkboxOnChange($event, 'view')"></mat-checkbox>
          </div>
          <div class="mat-cell">
            <mat-checkbox id="affluence-edit-checkbox" [(ngModel)]="affluence_edit_checked"
              (change)="checkboxOnChange($event, 'edit')"></mat-checkbox>
          </div>
        </div>

        <div class="mat-row">
          <div class="mat-cell">desirability</div>
          <div class="mat-cell">
            <mat-checkbox id="desirability-view-checkbox" [(ngModel)]="desirability_view_checked"
              (change)="checkboxOnChange($event, 'view')"></mat-checkbox>
          </div>
          <div class="mat-cell">
            <mat-checkbox id="desirability-edit-checkbox" [(ngModel)]="desirability_edit_checked"
              (change)="checkboxOnChange($event, 'edit')"></mat-checkbox>
          </div>
        </div>

        <div class="mat-row">
          <div class="mat-cell">district</div>
          <div class="mat-cell">
            <mat-checkbox id="district-view-checkbox" [(ngModel)]="district_view_checked"
              (change)="checkboxOnChange($event, 'view')"></mat-checkbox>
          </div>
          <div class="mat-cell">
            <mat-checkbox id="district-edit-checkbox" [(ngModel)]="district_edit_checked"
              (change)="checkboxOnChange($event, 'edit')"></mat-checkbox>
          </div>
        </div>

        <div class="mat-row">
          <div class="mat-cell">building</div>
          <div class="mat-cell">
            <mat-checkbox id="building-view-checkbox" [(ngModel)]="building_view_checked"
              (change)="checkboxOnChange($event, 'view')"></mat-checkbox>
          </div>
          <div class="mat-cell">
            <mat-checkbox id="building-edit-checkbox" [(ngModel)]="building_edit_checked"
              (change)="checkboxOnChange($event, 'edit')"></mat-checkbox>
          </div>
        </div>
      </div>

      <p mat-subheader>settings</p>
      <mat-list-item>
        show name&nbsp;&nbsp;
        <mat-slide-toggle id="streetNameSwitch" (change)="streetNameSwitchOnChange($event)"></mat-slide-toggle>
        &nbsp;&nbsp;hide
      </mat-list-item>

      <mat-list-item>
        increase&nbsp;&nbsp;
        <mat-slide-toggle id="elevationSwitch" (change)="elevationSwitchOnChange($event)"></mat-slide-toggle>
        &nbsp;&nbsp;decrease
      </mat-list-item>

      <mat-list-item>
        <label for="incrementSlider">increment:</label>
        <mat-slider id="incrementSlider" thumbLabel tickInterval="0.15" min="0" max="1" step="0.01" value="0.15"
          (change)="incrementSliderOnChange($event)" aria-label="increment"></mat-slider>
      </mat-list-item>

      <mat-list-item>
        <label for="waterLineSlider">waterline:</label>
        <mat-slider id="waterLineSlider" thumbLabel tickInterval="0.15" min="0" max="1" step="0.01" value="0.15"
          (change)="waterLineSliderOnChange($event)" aria-label="waterline"></mat-slider>
      </mat-list-item>

      <mat-list-item>
        <button mat-raised-button color="accent" matTooltip="show contourline" (click)="showContourLine()">Show
          Contourline</button>
      </mat-list-item>
    </mat-list>
  </div>

  <div class="col l9 s12" style="position: relative;">
    <canvas id="myCanvas" width="1190" height="800" [style.backgroundColor]="'rgb(203, 197, 185)'">
      Your browser does not support canvas
    </canvas>

    <canvas id="cursorCanvas" width="1190" height="800">
      Your browser does not support canvas
    </canvas>
  </div>
  <div class="example-button-row">
    <button mat-fab *ngIf="!isOwner" class="save-btn" color="accent" matTooltip="download map" (click)="downMap()"
      [disabled]="loading">
      <mat-icon aria-label="download map">get_app</mat-icon>
    </button>

    <button mat-fab *ngIf="isOwner" class="save-btn" color="accent" matTooltip="save map" (click)="saveMap()"
      [disabled]="loading">
      <mat-icon aria-label="save map">save</mat-icon>
    </button>
  </div>
</div>